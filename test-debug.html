<!DOCTYPE html>
<html>
<head>
    <title>Debug FAQ Update</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .status {
            margin: 20px 0;
            padding: 10px;
            background: #f0f0f0;
            border: 1px solid #ccc;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <h1>Debug FAQ Update</h1>
    
    <div class="status" id="status">Loading homepage...</div>
    
    <button onclick="checkFAQ()">Check FAQ Status</button>
    <button onclick="forceFAQUpdate()">Force FAQ Update</button>
    
    <iframe id="homepage" src="http://localhost:8000"></iframe>
    
    <script>
        function checkFAQ() {
            const iframe = document.getElementById('homepage');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            
            // Find all elements with FAQ-related text
            const allElements = iframeDoc.querySelectorAll('*');
            let faqElements = [];
            
            allElements.forEach(el => {
                if (el.textContent.includes('Primary Care program') || 
                    el.textContent.includes('consultation cost') ||
                    el.textContent.includes('preventive check-ups')) {
                    faqElements.push({
                        tagName: el.tagName,
                        className: el.className,
                        text: el.textContent.substring(0, 100),
                        parent: el.parentElement ? el.parentElement.className : 'no parent'
                    });
                }
            });
            
            document.getElementById('status').innerHTML = 
                '<h3>Found FAQ Elements:</h3><pre>' + 
                JSON.stringify(faqElements, null, 2) + 
                '</pre>';
        }
        
        function forceFAQUpdate() {
            const iframe = document.getElementById('homepage');
            const iframeWin = iframe.contentWindow;
            
            // Inject the FAQ update directly
            iframeWin.eval(`
                const neurofeedbackFAQs = [
                  {
                    question: "How does neurofeedback help children with ASD?",
                    answer: "Neurofeedback helps children with ASD by training their brains to self-regulate, improving attention, reducing anxiety, and enhancing social engagement through fun, game-based activities."
                  },
                  {
                    question: "What age is appropriate for neurofeedback therapy?",
                    answer: "Neurofeedback is suitable for children as young as 5 years old. Our NeurOS platform is specifically designed to be engaging and age-appropriate for children with ASD."
                  },
                  {
                    question: "How many sessions does my child need?",
                    answer: "Most children benefit from 20-40 sessions, with improvements often noticed after 10-15 sessions. Each child's progress is unique and tracked through our Progress Portal."
                  }
                ];
                
                // Find and update FAQ items
                const faqItems = document.querySelectorAll('.framer-agkRe');
                console.log('Found FAQ items:', faqItems.length);
                
                faqItems.forEach((item, index) => {
                    if (index < neurofeedbackFAQs.length) {
                        const question = item.querySelector('h3');
                        const answer = item.querySelector('p');
                        
                        if (question) {
                            console.log('Updating question', index, 'from:', question.textContent);
                            question.textContent = neurofeedbackFAQs[index].question;
                        }
                        
                        if (answer) {
                            console.log('Updating answer', index);
                            answer.textContent = neurofeedbackFAQs[index].answer;
                        }
                    }
                });
            `);
            
            document.getElementById('status').innerHTML = 
                '<h3>Force update executed - check the iframe content</h3>';
        }
        
        // Wait for iframe to load
        document.getElementById('homepage').onload = function() {
            setTimeout(checkFAQ, 2000);
        };
    </script>
</body>
</html>